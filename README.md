# README

* __GET__ api/public/v1/provider/catalog
#### catalog show
params

```
header:
[
  {
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Im9seW1wc3BhcnRhbkBnbWFpbC5jb20iLCJ1c2VyX2lkIjoiMTYwNDg1OGQtM2NiZC00ZjY2LTkzZWMtMmY5M2NiYTc3MGQwIiwidXNlcl90eXBlIjoicHJvdmlkZXIiLCJjb21wYW55X2lkIjoiN2ZkODMyYjAtM2IzZC00MzkxLWJmOTgtZGQ5Mjg3YjAyZjUyIiwic2Vzc2lvbl9pZCI6IjYzYWRmZDAyLTRiNzEtNDkxYi1hNDNmLWNlNTYyMTE0MGM4OSJ9.7iFO-ObnilmPmifqQNTp3RE4xheRM3dWtTyXvx98hvY",
    "type": "text"
  }
]
body:
{
  "device_uuid": "123456"
}

```
RESPONSE:

```
{
  "id": "08fe7a3f-d41a-41dd-ac0f-c40cb6980d3e",
  "company_id": "b79f36e6-51fc-475f-8c12-43c9b746b5a2",
  "licenses": [
    {
      "id": "da8da743-4c38-4cd0-b283-2f39c12d1a50",
      "title": "service.archive_5.title",
      "identifier": "archive_5",
      "description": "service.archive_5.description",
      "price": "",
      "is_active": "false",
      "group": "archive",
      "group_description": "service.archive.group_description",
      "group_name": "service.archive.group_name",
      "device_uuid": "123456"
    }
    {
      "id": "a45fdd2e-e2d1-4d65-b84a-3e62c35dfb1b",
      "title": "service.sirin_cloud.title",
      "identifier": "sirin_cloud",
      "description": "service.sirin_cloud.description",
      "price": "",
      "is_active": "false",
      "group": "videoserver",
      "group_description": "service.videoserver.group_description",
      "group_name": "service.videoserver.group_name",
      "device_uuid": "123456"
    }
    {
      "id": "9f26feb5-9708-44f1-8eeb-d082578c43a9",
      "title": "service.service_analytics.title",
      "identifier": "service_analytics",
      "description": "service.service_analytics.description",
      "price": "",
      "is_active": "false",
      "group": "service_analytics",
      "group_description": "service.service_analytics.group_description",
      "group_name": "service.service_analytics.group_name",
      "device_uuid": "123456"
    }
  ]
}

```

* __POST__ api/public/v1/provider/catalog
#### catalog create
params

```
header:
[
  {
    "warning": "This is a duplicate header and will be overridden by the Authorization header generated by Postman.",
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Im9seW1wc3BhcnRhbkBnbWFpbC5jb20iLCJ1c2VyX2lkIjoiMTYwNDg1OGQtM2NiZC00ZjY2LTkzZWMtMmY5M2NiYTc3MGQwIiwidXNlcl90eXBlIjoicHJvdmlkZXIiLCJjb21wYW55X2lkIjoiN2ZkODMyYjAtM2IzZC00MzkxLWJmOTgtZGQ5Mjg3YjAyZjUyIiwic2Vzc2lvbl9pZCI6IjhiODA2N2QxLWQ1OGUtNDNjMi1iOTE3LWNjZmU5OWQ0ODM2MSJ9.4gP2Jq-BAGCcFoQwthN6BUz9qkhdQ3uG7PKqgT1BmxA",
    "type": "text"
  }
]
body:
{
  "device_uuid": "123456"
}

```
RESPONSE:

```
{
  "id": "08fe7a3f-d41a-41dd-ac0f-c40cb6980d3e",
  "company_id": "b79f36e6-51fc-475f-8c12-43c9b746b5a2",
  "licenses": [
    {
      "id": "da8da743-4c38-4cd0-b283-2f39c12d1a50",
      "title": "service.archive_5.title",
      "identifier": "archive_5",
      "description": "service.archive_5.description",
      "price": "",
      "is_active": "false",
      "group": "archive",
      "group_description": "service.archive.group_description",
      "group_name": "service.archive.group_name",
      "device_uuid": "123456"
    }
    {
      "id": "a45fdd2e-e2d1-4d65-b84a-3e62c35dfb1b",
      "title": "service.sirin_cloud.title",
      "identifier": "sirin_cloud",
      "description": "service.sirin_cloud.description",
      "price": "",
      "is_active": "false",
      "group": "videoserver",
      "group_description": "service.videoserver.group_description",
      "group_name": "service.videoserver.group_name",
      "device_uuid": "123456"
    }
    {
      "id": "9f26feb5-9708-44f1-8eeb-d082578c43a9",
      "title": "service.service_analytics.title",
      "identifier": "service_analytics",
      "description": "service.service_analytics.description",
      "price": "",
      "is_active": "false",
      "group": "service_analytics",
      "group_description": "service.service_analytics.group_description",
      "group_name": "service.service_analytics.group_name",
      "device_uuid": "123456"
    }
  ]
}

```

* __PATCH__ api/public/v1/provider/catalog
#### catalog update
params

```
header:
[
  {
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFp",
    "type": "text"
  }
]
body:
{
  "device_uuid": "123456",
  "licenses": [
    {
      "id": "89244131-65a7-4050-83e5-d0c79467a182",
      "active": "true",
      "price": "1111561"
    }
  ]
}

```
RESPONSE:

```
{
  "id": "0f21da1d-5f38-433d-9c0c-b08993bdfc90",
  "order":   {
    "id": "5a7bbf26-e780-4382-8dca-efdb6b77e106",
    "invoice":     {
      "uuid": "4bff65e8-6755-47f7-b0a9-e517d8adcf82",
      "payment_type": "balance",
      "operation_type": "purchase",
      "state": "succeeded",
      "recipient":       {
        "account_uuid": "8622026633",
        "inn": "8622026633",
        "kpp": "862201001",
        "company_name": "ООО "СИРИН"",
        "address": "628260, Ханты-Мансийский Автономный Округ - Югра ао, Югорск г, Спортивная ул, дом 3, офис 7"
      }
      "pay_off": "",
      "amount": "80"
    }
    "total_price": "80",
    "order_items": [
    ]
  }
  "document": ""
}

```

* __GET__ api/public/v1/provider/customers/{:customer_uuid}/orders/current_order
#### order show
params

```
header:
[
  {
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFp",
    "type": "text"
  }
]
body:
{

}

```
RESPONSE:

```
{
  "id": "53d2c64c-10cc-4e4c-b163-17471a4e8020",
  "total_price": "90",
  "order_items": [
    {
      "device_uuid": "12345",
      "license":       {
        "id": "6f6cafe1-bc12-44da-b93a-02b7857c22e6",
        "title": "service.archive_5.title",
        "identifier": "archive_5",
        "description": "service.archive_5.description",
        "price": "90",
        "is_active": "true",
        "group": "archive",
        "group_description": "service.archive.group_description",
        "group_name": "service.archive.group_name",
        "device_uuid": "12345"
      }
      "price": "90"
    }
  ]
}

```

* __GET__ api/public/v1/provider/customers/{:customer_uuid}/orders
#### orders index
params

```
header:
[
  {
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFp",
    "type": "text"
  }
]
body:
{

}

```
RESPONSE:

```
[
  {
    "id": "792ee4b8-0678-48b5-8696-a2e2f076b313",
    "invoice":     {
      "uuid": "dd5b616a-4275-41ad-9cd3-2acd9973d633",
      "payment_type": "indirect",
      "operation_type": "purchase",
      "state": "succeeded",
      "recipient":       {
        "account_uuid": "8622026633",
        "inn": "8622026633",
        "kpp": "862201001",
        "company_name": "ООО "СИРИН"",
        "address": "628260, Ханты-Мансийский Автономный Округ - Югра ао, Югорск г, Спортивная ул, дом 3, офис 7"
      }
      "pay_off": "",
      "amount": "115"
    }
    "total_price": "115",
    "order_items": [
    ]
  }
]
```

* __PATCH__ api/public/v1/provider/customers/{:customer_uuid}/orders/clear_order
#### order clear
params

```
header:
[
  {
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFp",
    "type": "text"
  }
]
body:
{

}

```
RESPONSE:

```
[
]
```

* __POST__ api/public/v1/provider/customers/{:customer_uuid}/orders/checkout
#### order checkout
params

```
header:
[
  {
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFp",
    "type": "text"
  }
]
body:
{

}

```
RESPONSE:

```
{
  "uuid": "1a066d97-a5db-419f-8c6b-b006e70cee08",
  "payment_type": "card",
  "operation_type": "purchase",
  "state": "pending",
  "recipient":   {
    "account_uuid": "852c6ff4-3cbd-4eb1-93c6-9299f9d6d399",
    "inn": "8622026633",
    "kpp": "862201001",
    "company_name": "ООО "СИРИН"",
    "address": "628260, Ханты-Мансийский Автономный Округ - Югра ао, Югорск г, Спортивная ул, дом 3, офис 7"
  }
  "pay_off": "https://yoomoney.ru/payments/external/confirmation?orderId=2819d707-000f-5000-8000-1243bc10a804",
  "amount": "90"
}

```

* __GET__ api/public/v1/provider/customers/{:customer_uuid}/orders
#### order index
params

```
header:
[
  {
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFp",
    "type": "text"
  }
]
body:
{

}

```
RESPONSE:

```
[
  {
    "id": "53d2c64c-10cc-4e4c-b163-17471a4e8020",
    "invoice":     {
      "uuid": "1a066d97-a5db-419f-8c6b-b006e70cee08",
      "payment_type": "card",
      "operation_type": "purchase",
      "state": "succeeded",
      "recipient":       {
        "account_uuid": "852c6ff4-3cbd-4eb1-93c6-9299f9d6d399",
        "inn": "8622026633",
        "kpp": "862201001",
        "company_name": "ООО "СИРИН"",
        "address": "628260, Ханты-Мансийский Автономный Округ - Югра ао, Югорск г, Спортивная ул, дом 3, офис 7"
      }
      "pay_off": "https://yoomoney.ru/payments/external/confirmation?orderId=2819d707-000f-5000-8000-1243bc10a804",
      "amount": "90"
    }
    "total_price": "90",
    "order_items": [
      {
        "device_uuid": "12345",
        "license":         {
          "id": "6f6cafe1-bc12-44da-b93a-02b7857c22e6",
          "title": "service.archive_5.title",
          "identifier": "archive_5",
          "description": "service.archive_5.description",
          "price": "90",
          "is_active": "true",
          "group": "archive",
          "group_description": "service.archive.group_description",
          "group_name": "service.archive.group_name",
          "device_uuid": "12345"
        }
        "price": "90"
      }
    ]
  }
]
```

* __GET__ api/public/v1/provider/balance
#### balance show
params

```
header:
[
  {
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFp",
    "type": "text"
  }
]
body:
{
  "provider_uuid": "cca91486-cfd5-4376-8c11-e9acb99a3957"
}

```
RESPONSE:

```
{
  "account_uuid": "cca91486-cfd5-4376-8c11-e9acb99a3957",
  "amount": "10",
  "overdraft": "100"
}

```

* __GET__ api/public/v1/provider/balance/operations
#### balance operations
params

```
header:
[
  {
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFp",
    "type": "text"
  }
]
body:
{

}

```
RESPONSE:

```
[
  {
    "target": "amount",
    "action": "charge",
    "state": "applied",
    "source": "bank",
    "change": "10",
    "result": "10",
    "date": "2021-04-26T07:24:36.209Z"
  }
]
```

* __POST__ api/public/v1/provider/balance/refill
#### balance refill
params

```
header:
[
  {
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFp",
    "type": "text"
  }
]
body:
{
  "amount": "1000"
}

```
RESPONSE:

```
{
  "id": "53352b90-2889-4faa-a017-a8b4f7095687",
  "invoice":   {
    "uuid": "ae324a95-3945-45a5-9610-45e5125d567c",
    "payment_type": "bank",
    "operation_type": "refill",
    "state": "pending",
    "recipient":     {
      "account_uuid": "852c6ff4-3cbd-4eb1-93c6-9299f9d6d399",
      "inn": "8622026633",
      "kpp": "862201001",
      "company_name": "ООО "СИРИН"",
      "address": "628260, Ханты-Мансийский Автономный Округ - Югра ао, Югорск г, Спортивная ул, дом 3, офис 7"
    }
    "document_ready": "true",
    "pay_off": "https://s3.selcdn.ru/billing/bank_invoices/ae324a95-3945-45a5-9610-45e5125d567c.pdf?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=136739_billing%2F20210427%2Fru-1a%2Fs3%2Faws4_request&X-Amz-Date=20210427T171238Z&X-Amz-Expires=259200&X-Amz-SignedHeaders=host&X-Amz-Signature=191f18b1f507776ede3783474e055ae94caa47d374702e305c441afbe0fa5987",
    "amount": "1000"
  }
  "total_price": "1000",
  "order_items": [
  ]
}

```

* __GET__ api/public/v1/provider/service_acts
#### service acts index
params

```
header:
[
  {
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFp",
    "type": "text"
  }
]
body:
{
  "month": "2021-05"
}

```
RESPONSE:

```
[
  {
    "id": "ea8fb219-f9cc-4804-8571-008acfd4b79a",
    "order":     {
      "id": "aa508b01-ea9d-4f14-9c80-f8dc8598aa50",
      "invoice":       {
        "uuid": "6cee03a6-d623-4cf5-ba2c-f51081846cbe",
        "payment_type": "balance",
        "operation_type": "purchase",
        "state": "succeeded",
        "recipient":         {
          "account_uuid": "8622026633",
          "inn": "8622026633",
          "kpp": "862201001",
          "company_name": "ООО "СИРИН"",
          "address": "628260, Ханты-Мансийский Автономный Округ - Югра ао, Югорск г, Спортивная ул, дом 3, офис 7"
        }
        "pay_off": "",
        "amount": "80"
      }
      "total_price": "80",
      "order_items": [
      ]
    }
    "document": "http://localhost:3000/rails/active_storage/blobs/redirect/eyJfcmFpbHMiOnsibWVzc2FnZSI6IkJBaHBDUT09IiwiZXhwIjpudWxsLCJwdXIiOiJibG9iX2lkIn19--1358358f86b7360c10d0788ea4691c3a556ebf97/ea8fb219-f9cc-4804-8571-008acfd4b79a.pdf"
  }
]
```

* __GET__ api/public/v1/provider
#### show provider
params

```
header:
[
  {
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Im9seW1wc3BhcnRhbkBnbWFpbC5jb20iLCJ1c2VyX2lkIjoiMTYwNDg1OGQtM2NiZC00ZjY2LTkzZWMtMmY5M2NiYTc3MGQwIiwidXNlcl90eXBlIjoicHJvdmlkZXIiLCJjb21wYW55X2lkIjoiN2ZkODMyYjAtM2IzZC00MzkxLWJmOTgtZGQ5Mjg3YjAyZjUyIiwic2Vzc2lvbl9pZCI6IjliYWM1ZGI4LWVlMTgtNDA5Yy1iZmRlLWVlOTI3ODVmMWQ5NCJ9.qzMvfKg32eslJLd1XBVggPTptO3Wvl7idZ-nkt0UFbg",
    "type": "text"
  }
]
body:
{
  "password": "ejSoGxs=",
  "email": "olympspartan@gmail.com"
}

```
RESPONSE:

```
{
  "id": "1604858d-3cbd-4f66-93ec-2f93cba770d0",
  "name": "",
  "email": "olympspartan@gmail.com",
  "user_type": "provider",
  "company":   {
    "id": "7fd832b0-3b3d-4391-bf98-dd9287b02f52",
    "name": "COOMpany",
    "inn": "1234567",
    "kpp": "7654321"
  }

}

```

* __GET__ api/public/v1/provider/payments
#### payments index
params

```
header:
[
  {
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFp",
    "type": "text"
  }
]
body:
{
  "month": "2021-05"
}

```
RESPONSE:

```
[
  {
    "id": "a554017a-b620-4d6e-a28c-6dfd03dae6e0",
    "invoice":     {
      "uuid": "ea405477-5883-474d-9d1b-604cd84192e2",
      "payment_type": "bank",
      "operation_type": "refill",
      "state": "pending",
      "recipient":       {
        "account_uuid": "8622026633",
        "inn": "8622026633",
        "kpp": "862201001",
        "company_name": "ООО "СИРИН"",
        "address": "628260, Ханты-Мансийский Автономный Округ - Югра ао, Югорск г, Спортивная ул, дом 3, офис 7"
      }
      "document_ready": "true",
      "pay_off": "https://s3.selcdn.ru/billing/bank_invoices/ea405477-5883-474d-9d1b-604cd84192e2.pdf?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=136739_billing%2F20210505%2Fru-1a%2Fs3%2Faws4_request&X-Amz-Date=20210505T173219Z&X-Amz-Expires=259200&X-Amz-SignedHeaders=host&X-Amz-Signature=34e975d418e055f384f2b8e553f20b3bedc598bdc1e27476e036472fe2e8c660",
      "amount": "1000"
    }
    "total_price": "1000",
    "order_items": [
    ]
  }
]
```

* __GET__ api/mobile/v1/customer/providers/{:provider_uuid}/catalog
#### mobile order add item
params

```
header:
[
  {
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFp",
    "type": "text"
  }
]
body:
{
  "device_uuid": "123456"
}

```
RESPONSE:

```
{
  "id": "792ee4b8-0678-48b5-8696-a2e2f076b313",
  "total_price": "115",
  "order_items": [
    {
      "device_uuid": "123456",
      "license":       {
        "id": "5ba4c453-19d1-412d-bca2-464cb9b22cb0",
        "title": "service.sirin_cloud.title",
        "identifier": "sirin_cloud",
        "description": "service.sirin_cloud.description",
        "price": "115",
        "is_active": "true",
        "group": "videoserver",
        "group_description": "service.videoserver.group_description",
        "group_name": "service.videoserver.group_name",
        "device_uuid": "123456"
      }
      "price": "115"
    }
  ]
}

```

* __GET__ api/mobile/v1/customer/companies/{:company_uuid}/order
#### mobile order show
params

```
header:
[
  {
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFp",
    "type": "text"
  }
]
body:
{

}

```
RESPONSE:

```
{
  "id": "69af692c-03f1-4295-bbf5-605065907535",
  "total_price": "0",
  "order_items": [
  ]
}

```

* __PATCH__ api/mobile/v1/customer/providers/{:provider_uuid}/order/remove_item
#### mobile order remove item
params

```
header:
[
  {
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFp",
    "type": "text"
  }
]
body:
{
  "license_id": "5ba4c453-19d1-412d-bca2-464cb9b22cb0"
}

```
RESPONSE:

```
{
  "id": "792ee4b8-0678-48b5-8696-a2e2f076b313",
  "total_price": "0",
  "order_items": [
  ]
}

```

* __PATCH__ api/mobile/v1/customer/providers/{:provider_uuid}/order/clear_order
#### mobile order clear
params

```
header:
[
  {
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFp",
    "type": "text"
  }
]
body:
{
  "month": "2021-05"
}

```
RESPONSE:

```
[
]
```

* __POST__ api/public/v1/sign_up
#### provider sign up
params

```
header:
[
  {
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFp",
    "type": "text"
  }
]
body:
{
  "email": "nobady@gmail.com",
  "inn": "8622026633",
  "name": "test"
}

```
RESPONSE:

```
{
  "error": "priveder create error",
  "messages":   {
    "email": [
      {
        "provider": "provider already exists"
      }
    ]
  }
  "status": "422"
}

```

* __PATCH__ api/public/v1/sign_in
#### provider sign in
params

```
header:
[
  {
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFp",
    "type": "text"
  }
]
body:
{
  "password": "ejSoGxs=",
  "email": "olympspartan@gmail.com"
}

```
RESPONSE:

```
{
  "id": "b2cf8da3-1b16-43e8-bccc-91de378cf33c",
  "refresh_token": "8c3ac273-e307-4ffe-b25d-24555df20698",
  "access_token": "eyJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6Im9seW1wc3BhcnRhbkBnbWFpbC5jb20iLCJ1c2VyX2lkIjoiMTYwNDg1OGQtM2NiZC00ZjY2LTkzZWMtMmY5M2NiYTc3MGQwIiwidXNlcl90eXBlIjoicHJvdmlkZXIiLCJjb21wYW55X2lkIjoiN2ZkODMyYjAtM2IzZC00MzkxLWJmOTgtZGQ5Mjg3YjAyZjUyIiwic2Vzc2lvbl9pZCI6ImIyY2Y4ZGEzLTFiMTYtNDNlOC1iY2NjLTkxZGUzNzhjZjMzYyJ9.7uIXvxODNTe3IgE2foMR9nh1BF9cezX7YfLu5WwMUpY",
  "user_agent": "PostmanRuntime/7.28.0",
  "user_type": "provider",
  "user_id": "1604858d-3cbd-4f66-93ec-2f93cba770d0",
  "created_at": "2021-05-07T11:06:27.799Z"
}

```

* __GET__ api/public/v1/provider/audits
#### audits  index
params

```
header:
[
  {
    "key": "Authorization",
    "value": "Bearer eyJhbGciOiJIUzI1NiJ9.eyJlbWFp",
    "type": "text"
  }
]
body:
{
  "month": "2021-05",
  "start_date": "2021-05-07",
  "end_date": "2021-05-08",
  "provider_uuid": "1604858d-3cbd-4f66-93ec-2f93cba770d0"
}

```
RESPONSE:

```
[
  {
    "created_at": "2021-05-07T06:45:02.144Z",
    "action": "create",
    "auditable_type": "CustomerLicense",
    "auditable":     {
      "customer_options":       {

      }

    }

  }
  {
    "created_at": "2021-05-06T17:54:41.776Z",
    "action": "update",
    "auditable_type": "Order",
    "auditable":     {
      "id": "f687d93b-f1f4-4052-bafe-1b2a47c9b49e",
      "invoice":       {
        "uuid": "817461cc-e9de-4134-98f8-59e98a38552e",
        "payment_type": "balance",
        "operation_type": "purchase",
        "state": "succeeded",
        "recipient":         {
          "account_uuid": "8622026633",
          "inn": "8622026633",
          "kpp": "862201001",
          "company_name": "ООО "СИРИН"",
          "address": "628260, Ханты-Мансийский Автономный Округ - Югра ао, Югорск г, Спортивная ул, дом 3, офис 7"
        }
        "pay_off": "",
        "amount": "80"
      }
      "total_price": "80",
      "order_items": [
      ]
    }
    "before": [
      {
        "state": "pending"
      }
    ]    "after": [
      {
        "state": "paid"
      }
    ]
  }
  {
    "created_at": "2021-05-06T17:54:40.674Z",
    "action": "update",
    "auditable_type": "Order",
    "auditable":     {
      "id": "f687d93b-f1f4-4052-bafe-1b2a47c9b49e",
      "invoice":       {
        "uuid": "817461cc-e9de-4134-98f8-59e98a38552e",
        "payment_type": "balance",
        "operation_type": "purchase",
        "state": "succeeded",
        "recipient":         {
          "account_uuid": "8622026633",
          "inn": "8622026633",
          "kpp": "862201001",
          "company_name": "ООО "СИРИН"",
          "address": "628260, Ханты-Мансийский Автономный Округ - Югра ао, Югорск г, Спортивная ул, дом 3, офис 7"
        }
        "pay_off": "",
        "amount": "80"
      }
      "total_price": "80",
      "order_items": [
      ]
    }
    "user":     {
      "id": "1604858d-3cbd-4f66-93ec-2f93cba770d0",
      "name": "",
      "email": "olympspartan@gmail.com",
      "user_type": "provider",
      "company":       {
        "id": "7fd832b0-3b3d-4391-bf98-dd9287b02f52",
        "name": "COOMpany",
        "inn": "1234567",
        "kpp": "7654321"
      }

    }
    "before": [
      {
        "state": "opened"
      }
    ]    "after": [
      {
        "state": "pending"
      }
    ]
  }
  {
    "created_at": "2021-05-06T17:54:40.361Z",
    "action": "create",
    "auditable_type": "Order",
    "auditable":     {
      "id": "f687d93b-f1f4-4052-bafe-1b2a47c9b49e",
      "invoice":       {
        "uuid": "817461cc-e9de-4134-98f8-59e98a38552e",
        "payment_type": "balance",
        "operation_type": "purchase",
        "state": "succeeded",
        "recipient":         {
          "account_uuid": "8622026633",
          "inn": "8622026633",
          "kpp": "862201001",
          "company_name": "ООО "СИРИН"",
          "address": "628260, Ханты-Мансийский Автономный Округ - Югра ао, Югорск г, Спортивная ул, дом 3, офис 7"
        }
        "pay_off": "",
        "amount": "80"
      }
      "total_price": "80",
      "order_items": [
      ]
    }
    "user":     {
      "id": "1604858d-3cbd-4f66-93ec-2f93cba770d0",
      "name": "",
      "email": "olympspartan@gmail.com",
      "user_type": "provider",
      "company":       {
        "id": "7fd832b0-3b3d-4391-bf98-dd9287b02f52",
        "name": "COOMpany",
        "inn": "1234567",
        "kpp": "7654321"
      }

    }

  }
  {
    "created_at": "2021-05-06T17:53:42.935Z",
    "action": "create",
    "auditable_type": "Order",
    "auditable":     {
      "id": "c9f1d1f8-9d39-4633-8b4e-7fc9a20d4ef2",
      "total_price": "80",
      "order_items": [
      ]
    }
    "user":     {
      "id": "1604858d-3cbd-4f66-93ec-2f93cba770d0",
      "name": "",
      "email": "olympspartan@gmail.com",
      "user_type": "provider",
      "company":       {
        "id": "7fd832b0-3b3d-4391-bf98-dd9287b02f52",
        "name": "COOMpany",
        "inn": "1234567",
        "kpp": "7654321"
      }

    }

  }
  {
    "created_at": "2021-05-06T17:11:53.397Z",
    "action": "create",
    "auditable_type": "Order",
    "auditable":     {
      "id": "781efc5a-64a7-49f4-a9f7-8744918e8bec",
      "total_price": "1000",
      "order_items": [
      ]
    }
    "user":     {
      "id": "1604858d-3cbd-4f66-93ec-2f93cba770d0",
      "name": "",
      "email": "olympspartan@gmail.com",
      "user_type": "provider",
      "company":       {
        "id": "7fd832b0-3b3d-4391-bf98-dd9287b02f52",
        "name": "COOMpany",
        "inn": "1234567",
        "kpp": "7654321"
      }

    }

  }
  {
    "created_at": "2021-05-06T16:44:00.555Z",
    "action": "update",
    "auditable_type": "License",
    "auditable":     {
      "id": "89244131-65a7-4050-83e5-d0c79467a182",
      "title": "service.sirin_cloud.title",
      "identifier": "sirin_cloud",
      "description": "service.sirin_cloud.description",
      "price": "1111561",
      "is_active": "true",
      "group": "videoserver",
      "group_description": "service.videoserver.group_description",
      "group_name": "service.videoserver.group_name",
      "device_uuid": "123456"
    }
    "user":     {
      "id": "1604858d-3cbd-4f66-93ec-2f93cba770d0",
      "name": "",
      "email": "olympspartan@gmail.com",
      "user_type": "provider",
      "company":       {
        "id": "7fd832b0-3b3d-4391-bf98-dd9287b02f52",
        "name": "COOMpany",
        "inn": "1234567",
        "kpp": "7654321"
      }

    }
    "before": [
      {
        "price": ""
      }
    ]    "after": [
      {
        "price": "111156100"
      }
    ]
  }
]
```
